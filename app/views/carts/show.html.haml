.sec-banner.bg0.p-t-80.p-b-50.main-page
  .container
    .bg0.p-t-75.p-b-85
      .container
        .row
          .col-lg-10.col-xl-7.m-lr-auto.m-b-50
            .m-l-25.m-r--38.m-lr-0-xl
              = form_for(@cart, method: :put) do |f|
                .wrap-table-shopping-cart
                  %table.table-shopping-cart
                    %tr.table_head
                      %th.column-1 Product
                      %th.column-2
                      %th.column-3 Price
                      %th.column-4 Quantity
                      %th.column-5 Total
                    - @cart.line_items.each do |line_item|
                      %tr.table_row
                        %td.column-1
                          = link_to line_item, method: :delete, noindex: true, id: 'delete', data: { confirm: 'Are you sure you want to delete this line item?' }, class: 'delete-item' do
                            .how-itemcart1
                              = cl_image_tag line_item.stock.product.product_images.first.url
                        %td.column-2
                          = line_item.stock.product.title
                        %td.column-3
                          = line_item.stock.product.price
                        %td.column-4
                          = f.fields_for :line_items do |line|
                            .wrap-num-product.flex-w.m-l-auto.m-r-0
                              .btn-num-product-down.cl8.hov-btn3.trans-04.flex-c-m
                                %i.fs-16.zmdi.zmdi-minus
                              = line.text_field :quantity, class: 'mtext-104 cl3 txt-center num-product'
                              .btn-num-product-up.cl8.hov-btn3.trans-04.flex-c-m
                                %i.fs-16.zmdi.zmdi-plus
                        %td.column-5
                          = line_item.total_price
                .flex-w.flex-sb-m.bor15.p-t-18.p-b-15.p-lr-40.p-lr-15-sm
                  .flex-w.flex-m.m-r-20.m-tb-5
                  = f.hidden_field :id, { :value => @cart.code }
                  = submit_tag 'Update Cart', class: 'flex-c-m stext-101 cl2 size-119 bg8 bor13 hov-btn3 p-lr-15 trans-04 pointer m-tb-10'
            .m-l-25.m-r--38.m-lr-0-xl
              = form_for(@order) do |f|
                .wrap-table-shopping-cart
                  - flash.each do |key, value|
                    = content_tag :div, value, class: "alert alert-#{key}"
                  .flex-w.flex-sb-m.bor15.p-t-18.p-b-15.p-lr-40.p-lr-15-sm
                    = f.label :first_name, class: 'col-sm-3 control-label'
                    = f.text_field :first_name, autofocus: true, class: 'stext-111 cl2 plh3 size-126'
                    = f.label :last_name, class: 'col-sm-3 control-label'
                    = f.text_field :last_name, autofocus: true, class: 'stext-111 cl2 plh3 size-126'
                    = f.label :email, class: 'col-sm-3 control-label'
                    = f.text_field :email, autofocus: true, class: 'stext-111 cl2 plh3 size-126'
                    = f.label :address, class: 'col-sm-3 control-label'
                    = f.text_field :address, autofocus: true, class: 'stext-111 cl2 plh3 size-126'
                    = f.label :district, class: 'col-sm-3 control-label'
                    = f.text_field :district, autofocus: true, class: 'stext-111 cl2 plh3 size-126'
                    = f.label :city, class: 'col-sm-3 control-label'
                    = f.text_field :city, autofocus: true, class: 'stext-111 cl2 plh3 size-126'
                    = f.label :phone, class: 'col-sm-3 control-label'
                    = f.text_field :phone, autofocus: true, class: 'stext-111 cl2 plh3 size-126'
                    = f.label :note, class: 'col-sm-3 control-label'
                    = f.text_field :note, autofocus: true, class: 'stext-111 cl2 plh3 size-126'
                    = f.hidden_field :id, { :value => @cart.code }
                    = submit_tag 'Proceed to Checkout', class: 'flex-c-m stext-101 cl0 size-116 bg3 bor14 hov-btn3 p-lr-15 trans-04 pointer'
          .col-sm-10.col-lg-7.col-xl-5.m-lr-auto.m-b-50
            .bor10.p-lr-40.p-t-30.p-b-40.m-l-63.m-r-40.m-lr-0-xl.p-lr-15-sm
              %h4.mtext-109.cl2.p-b-30
                Cart Totals
              .flex-w.flex-t.p-t-27.p-b-33
                .size-208
                  %span.mtext-101.cl2
                    Total:
                .size-209.p-t-1
                  %span.mtext-110.cl2
                    = @cart.total_price
